{"changed":true,"filter":false,"title":"Notification.rb","tooltip":"/lib/Notification.rb","value":"require 'delegate'\nrequire 'pony'\nrequire 'geocoder'\nrequire 'time'\n\n\n# concrete component to be decorated.\n# we have a notification class that we will like to decorate based on action\n# action include booking, review, inbox.\nclass Notification\n    def initialize(sender, receiver, content)\n        @sender = sender\n        @receiver = receiver\n        @content = content\n    end\n    \n     #get content\n    def get_content\n        return @content\n    end\n    \n    #get sender information\n    def get_sender\n        return @sender\n    end\n    \n    #get receiver information\n    def get_receiver\n        return @receiver\n    end\n   \nend\n\n# decorator class that serves as super class for concrete decorators.\n# includes functions that is common to all concrete decorators\n\nclass NotificationDecorator\n    #initialize our constructor\n    def initialize(notification)\n        @notification = notification\n        @action = \"\" \n        @sender = get_sender\n        @receiver = get_receiver\n        @content = get_content\n        @location = Geocoder.search(\"#{@content[\"location\"][\"latitude\"]}, #{@content[\"location\"][\"longitude\"]}\")[0].data\n        @booking_message = \"<p>Location: #{@location[\"address\"][\"address29\"]}</p> \\r\\n\n        <p>Time Booked: #{Time.at(@content[\"date\"].to_time.to_i).httpdate}</p> \\r\\n\n        <p>Hours Booked: #{@content[\"hours_booked\"]}</p> \\r\\n\n        \"\n    end\n    \n    def get_content\n        return @notification.get_content\n    end\n    \n    def get_sender\n        return @notification.get_sender\n    end\n    \n    def get_receiver\n        return @notification.get_receiver\n    end\n    \n    def get_action\n        return @action\n    end\n    \n    def get_booking_message\n        return @booking_message\n    end\n    \n    def message\n        return \"You have a new #{@action} from #{get_sender}. Check out the details\"\n    end\n    \n    #send email using Pony\n    def send_email\n        begin\n            Pony.mail(\n                :to => @receiver_email, \n                :from => @sender_email,\n                :subject => @subject,\n                :html_body => self.message,\n                :body => self.message,\n                :via => :smtp,\n                :via_options => {\n                    :address              => 'smtp.gmail.com',\n                    :port                 => '587',\n                    :enable_starttls_auto => true,\n                    :user_name            => 'bookatutorapp@gmail.com',\n                    :password             => 'b00katut0r@123!',\n                    :authentication       => :plain, \n                    :domain               => \"localhost.localdomain\" \n                }\n            )\n            \n            #return message-sent == true\n            \n        rescue Exception => e\n            puts e.message\n            puts e.backtrace.inspect\n        end\n    end\nend\n\nclass BasicNotification < NotificationDecorator\n    \n    def initialize(notification)\n        super(notification)\n        @action = \"Basic\"\n    end\n    def message\n        return \"You have a new #{@action} from #{@sender}. Check out the details\"\n    end\n    \n  \nend\n\n#configure notification so send to student and tutor upon booking creation\n#modify @action and message within this class\nclass BookingNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Booking\"\n        @subject = \"New #{@action}\"\n    end\n    \n    def message\n        return \"<h1>You have a new  #{get_action}. Check out the details below</h1> \\r\\n\n        <p>Booking from: #{@sender[\"firstname\"]} #{@sender[\"lastname\"]} </p>\\r\\n\n        #{get_booking_message} \"\n    end\n    \n     #send notification using async\n    def send_notification\n        @sender_email = \"bookatutorapp@gmail.com\"\n        @receiver_email = self.get_receiver[\"email\"]\n        \n        mail_status = Async do\n            self.send_email\n        end\n        \n        return mail_status.wait.content_type.length\n    end\n  \nend\n\n\nclass UserBookingNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Booking\"\n        @subject = \"New #{@action} created\"\n        \n    end\n    \n    def message\n        return \"<h1>You have created a #{get_action}. Check out the details below </h1>\\r\\n \n        <p>Tutor Booked: #{@receiver[\"firstname\"]} #{@receiver[\"lastname\"]}</p> \\r\\n\n        #{get_booking_message} \\r\\n\n        <p>Thank you for using bookatutor to create this booking</p>\"\n    end\n    \n    def get_subject\n        return @subject\n    end\n    \n    def send_notification\n        @sender_email = \"bookatutorapp@gmail.com\"\n        @receiver_email = self.get_sender[\"email\"]\n        \n        mail_status = Async do\n            self.send_email\n        end\n        \n        #return mail_status.wait.content_type.length\n    end\nend\n\n#end of booking decoration\n\n\nclass ReviewNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Review\"\n    end\n    \n    def get_action\n        return @action\n    end\nend\n\nclass InboxNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Inbox\"\n    end\n    def message\n        return \"You have a new #{@action} from #{@sender}. Check out the details\"\n    end\n\nend\n\n# class AppMessageNotification < NotificationDecorator\n#     def message\n#         return \"You have a new #{@action} from #{@sender}. Check out the details\"\n#     end\n    \n#     def get_content\n#         return @content\n#     end\n# end\n   ","undoManager":{"mark":76,"position":100,"stack":[[{"start":{"row":4,"column":45},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":343},{"start":{"row":5,"column":0},"end":{"row":5,"column":1},"action":"insert","lines":["r"]},{"start":{"row":5,"column":1},"end":{"row":5,"column":2},"action":"insert","lines":["e"]},{"start":{"row":5,"column":2},"end":{"row":5,"column":3},"action":"insert","lines":["q"]},{"start":{"row":5,"column":3},"end":{"row":5,"column":4},"action":"insert","lines":["u"]},{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["i"]},{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["r"]},{"start":{"row":5,"column":6},"end":{"row":5,"column":7},"action":"insert","lines":["e"]}],[{"start":{"row":5,"column":7},"end":{"row":5,"column":8},"action":"insert","lines":["_"],"id":344},{"start":{"row":5,"column":8},"end":{"row":5,"column":9},"action":"insert","lines":["r"]},{"start":{"row":5,"column":9},"end":{"row":5,"column":10},"action":"insert","lines":["e"]},{"start":{"row":5,"column":10},"end":{"row":5,"column":11},"action":"insert","lines":["l"]},{"start":{"row":5,"column":11},"end":{"row":5,"column":12},"action":"insert","lines":["a"]},{"start":{"row":5,"column":12},"end":{"row":5,"column":13},"action":"insert","lines":["t"]},{"start":{"row":5,"column":13},"end":{"row":5,"column":14},"action":"insert","lines":["i"]},{"start":{"row":5,"column":14},"end":{"row":5,"column":15},"action":"insert","lines":["v"]}],[{"start":{"row":5,"column":15},"end":{"row":5,"column":16},"action":"insert","lines":["e"],"id":345}],[{"start":{"row":5,"column":16},"end":{"row":5,"column":17},"action":"insert","lines":[" "],"id":346}],[{"start":{"row":5,"column":17},"end":{"row":5,"column":19},"action":"insert","lines":["''"],"id":347}],[{"start":{"row":5,"column":18},"end":{"row":5,"column":19},"action":"insert","lines":["f"],"id":348},{"start":{"row":5,"column":19},"end":{"row":5,"column":20},"action":"insert","lines":["u"]},{"start":{"row":5,"column":20},"end":{"row":5,"column":21},"action":"insert","lines":["n"]},{"start":{"row":5,"column":21},"end":{"row":5,"column":22},"action":"insert","lines":["c"]},{"start":{"row":5,"column":22},"end":{"row":5,"column":23},"action":"insert","lines":["t"]},{"start":{"row":5,"column":23},"end":{"row":5,"column":24},"action":"insert","lines":["i"]},{"start":{"row":5,"column":24},"end":{"row":5,"column":25},"action":"insert","lines":["o"]},{"start":{"row":5,"column":25},"end":{"row":5,"column":26},"action":"insert","lines":["n"]},{"start":{"row":5,"column":26},"end":{"row":5,"column":27},"action":"insert","lines":["s"]},{"start":{"row":5,"column":27},"end":{"row":5,"column":28},"action":"insert","lines":["/"]}],[{"start":{"row":5,"column":28},"end":{"row":5,"column":29},"action":"insert","lines":["b"],"id":349}],[{"start":{"row":5,"column":28},"end":{"row":5,"column":29},"action":"remove","lines":["b"],"id":350}],[{"start":{"row":5,"column":28},"end":{"row":5,"column":29},"action":"insert","lines":["R"],"id":351},{"start":{"row":5,"column":29},"end":{"row":5,"column":30},"action":"insert","lines":["e"]},{"start":{"row":5,"column":30},"end":{"row":5,"column":31},"action":"insert","lines":["v"]},{"start":{"row":5,"column":31},"end":{"row":5,"column":32},"action":"insert","lines":["i"]},{"start":{"row":5,"column":32},"end":{"row":5,"column":33},"action":"insert","lines":["e"]},{"start":{"row":5,"column":33},"end":{"row":5,"column":34},"action":"insert","lines":["w"]},{"start":{"row":5,"column":34},"end":{"row":5,"column":35},"action":"insert","lines":["F"]},{"start":{"row":5,"column":35},"end":{"row":5,"column":36},"action":"insert","lines":["u"]}],[{"start":{"row":5,"column":36},"end":{"row":5,"column":37},"action":"insert","lines":["n"],"id":352},{"start":{"row":5,"column":37},"end":{"row":5,"column":38},"action":"insert","lines":["c"]},{"start":{"row":5,"column":38},"end":{"row":5,"column":39},"action":"insert","lines":["t"]},{"start":{"row":5,"column":39},"end":{"row":5,"column":40},"action":"insert","lines":["i"]},{"start":{"row":5,"column":40},"end":{"row":5,"column":41},"action":"insert","lines":["o"]},{"start":{"row":5,"column":41},"end":{"row":5,"column":42},"action":"insert","lines":["n"]},{"start":{"row":5,"column":42},"end":{"row":5,"column":43},"action":"insert","lines":["s"]}],[{"start":{"row":4,"column":28},"end":{"row":4,"column":29},"action":"remove","lines":["b"],"id":353}],[{"start":{"row":4,"column":28},"end":{"row":4,"column":29},"action":"insert","lines":["B"],"id":354}],[{"start":{"row":185,"column":0},"end":{"row":186,"column":0},"action":"insert","lines":["",""],"id":355},{"start":{"row":186,"column":0},"end":{"row":186,"column":1},"action":"insert","lines":["@"]}],[{"start":{"row":186,"column":0},"end":{"row":186,"column":1},"action":"remove","lines":["@"],"id":356}],[{"start":{"row":186,"column":0},"end":{"row":186,"column":1},"action":"insert","lines":["#"],"id":357},{"start":{"row":186,"column":1},"end":{"row":186,"column":2},"action":"insert","lines":["C"]},{"start":{"row":186,"column":2},"end":{"row":186,"column":3},"action":"insert","lines":["O"]},{"start":{"row":186,"column":3},"end":{"row":186,"column":4},"action":"insert","lines":["N"]}],[{"start":{"row":186,"column":3},"end":{"row":186,"column":4},"action":"remove","lines":["N"],"id":358},{"start":{"row":186,"column":2},"end":{"row":186,"column":3},"action":"remove","lines":["O"]}],[{"start":{"row":186,"column":2},"end":{"row":186,"column":3},"action":"insert","lines":["c"],"id":359},{"start":{"row":186,"column":3},"end":{"row":186,"column":4},"action":"insert","lines":["o"]},{"start":{"row":186,"column":4},"end":{"row":186,"column":5},"action":"insert","lines":["n"]},{"start":{"row":186,"column":5},"end":{"row":186,"column":6},"action":"insert","lines":["f"]},{"start":{"row":186,"column":6},"end":{"row":186,"column":7},"action":"insert","lines":["i"]},{"start":{"row":186,"column":7},"end":{"row":186,"column":8},"action":"insert","lines":["f"]},{"start":{"row":186,"column":8},"end":{"row":186,"column":9},"action":"insert","lines":["u"]}],[{"start":{"row":186,"column":9},"end":{"row":186,"column":10},"action":"insert","lines":["r"],"id":360}],[{"start":{"row":186,"column":9},"end":{"row":186,"column":10},"action":"remove","lines":["r"],"id":361},{"start":{"row":186,"column":8},"end":{"row":186,"column":9},"action":"remove","lines":["u"]},{"start":{"row":186,"column":7},"end":{"row":186,"column":8},"action":"remove","lines":["f"]}],[{"start":{"row":186,"column":7},"end":{"row":186,"column":8},"action":"insert","lines":["g"],"id":362},{"start":{"row":186,"column":8},"end":{"row":186,"column":9},"action":"insert","lines":["u"]},{"start":{"row":186,"column":9},"end":{"row":186,"column":10},"action":"insert","lines":["r"]},{"start":{"row":186,"column":10},"end":{"row":186,"column":11},"action":"insert","lines":["e"]}],[{"start":{"row":186,"column":11},"end":{"row":186,"column":12},"action":"insert","lines":[" "],"id":363},{"start":{"row":186,"column":12},"end":{"row":186,"column":13},"action":"insert","lines":["n"]},{"start":{"row":186,"column":13},"end":{"row":186,"column":14},"action":"insert","lines":["o"]},{"start":{"row":186,"column":14},"end":{"row":186,"column":15},"action":"insert","lines":["t"]},{"start":{"row":186,"column":15},"end":{"row":186,"column":16},"action":"insert","lines":["i"]},{"start":{"row":186,"column":16},"end":{"row":186,"column":17},"action":"insert","lines":["f"]},{"start":{"row":186,"column":17},"end":{"row":186,"column":18},"action":"insert","lines":["i"]},{"start":{"row":186,"column":18},"end":{"row":186,"column":19},"action":"insert","lines":["c"]},{"start":{"row":186,"column":19},"end":{"row":186,"column":20},"action":"insert","lines":["a"]},{"start":{"row":186,"column":20},"end":{"row":186,"column":21},"action":"insert","lines":["t"]},{"start":{"row":186,"column":21},"end":{"row":186,"column":22},"action":"insert","lines":["i"]},{"start":{"row":186,"column":22},"end":{"row":186,"column":23},"action":"insert","lines":["o"]}],[{"start":{"row":186,"column":23},"end":{"row":186,"column":24},"action":"insert","lines":["n"],"id":364}],[{"start":{"row":186,"column":24},"end":{"row":186,"column":25},"action":"insert","lines":[" "],"id":365},{"start":{"row":186,"column":25},"end":{"row":186,"column":26},"action":"insert","lines":["t"]},{"start":{"row":186,"column":26},"end":{"row":186,"column":27},"action":"insert","lines":["o"]}],[{"start":{"row":186,"column":27},"end":{"row":186,"column":28},"action":"insert","lines":[" "],"id":366},{"start":{"row":186,"column":28},"end":{"row":186,"column":29},"action":"insert","lines":["s"]},{"start":{"row":186,"column":29},"end":{"row":186,"column":30},"action":"insert","lines":["e"]},{"start":{"row":186,"column":30},"end":{"row":186,"column":31},"action":"insert","lines":["n"]},{"start":{"row":186,"column":31},"end":{"row":186,"column":32},"action":"insert","lines":["d"]}],[{"start":{"row":186,"column":32},"end":{"row":186,"column":33},"action":"insert","lines":[" "],"id":367}],[{"start":{"row":186,"column":33},"end":{"row":186,"column":34},"action":"insert","lines":["e"],"id":368},{"start":{"row":186,"column":34},"end":{"row":186,"column":35},"action":"insert","lines":["m"]},{"start":{"row":186,"column":35},"end":{"row":186,"column":36},"action":"insert","lines":["a"]},{"start":{"row":186,"column":36},"end":{"row":186,"column":37},"action":"insert","lines":["i"]},{"start":{"row":186,"column":37},"end":{"row":186,"column":38},"action":"insert","lines":["l"]}],[{"start":{"row":186,"column":38},"end":{"row":186,"column":39},"action":"insert","lines":[" "],"id":369},{"start":{"row":186,"column":39},"end":{"row":186,"column":40},"action":"insert","lines":["t"]},{"start":{"row":186,"column":40},"end":{"row":186,"column":41},"action":"insert","lines":["o"]}],[{"start":{"row":186,"column":41},"end":{"row":186,"column":42},"action":"insert","lines":[" "],"id":370},{"start":{"row":186,"column":42},"end":{"row":186,"column":43},"action":"insert","lines":["u"]},{"start":{"row":186,"column":43},"end":{"row":186,"column":44},"action":"insert","lines":["s"]},{"start":{"row":186,"column":44},"end":{"row":186,"column":45},"action":"insert","lines":["e"]},{"start":{"row":186,"column":45},"end":{"row":186,"column":46},"action":"insert","lines":["r"]}],[{"start":{"row":186,"column":46},"end":{"row":186,"column":47},"action":"insert","lines":[" "],"id":371},{"start":{"row":186,"column":47},"end":{"row":186,"column":48},"action":"insert","lines":["a"]},{"start":{"row":186,"column":48},"end":{"row":186,"column":49},"action":"insert","lines":["n"]},{"start":{"row":186,"column":49},"end":{"row":186,"column":50},"action":"insert","lines":["d"]}],[{"start":{"row":186,"column":50},"end":{"row":186,"column":51},"action":"insert","lines":[" "],"id":372}],[{"start":{"row":186,"column":51},"end":{"row":186,"column":52},"action":"insert","lines":["u"],"id":373},{"start":{"row":186,"column":52},"end":{"row":186,"column":53},"action":"insert","lines":["s"]},{"start":{"row":186,"column":53},"end":{"row":186,"column":54},"action":"insert","lines":["e"]},{"start":{"row":186,"column":54},"end":{"row":186,"column":55},"action":"insert","lines":["r"]},{"start":{"row":186,"column":55},"end":{"row":186,"column":56},"action":"insert","lines":["_"]},{"start":{"row":186,"column":56},"end":{"row":186,"column":57},"action":"insert","lines":["r"]},{"start":{"row":186,"column":57},"end":{"row":186,"column":58},"action":"insert","lines":["e"]},{"start":{"row":186,"column":58},"end":{"row":186,"column":59},"action":"insert","lines":["v"]},{"start":{"row":186,"column":59},"end":{"row":186,"column":60},"action":"insert","lines":["i"]},{"start":{"row":186,"column":60},"end":{"row":186,"column":61},"action":"insert","lines":["e"]}],[{"start":{"row":186,"column":61},"end":{"row":186,"column":62},"action":"insert","lines":["w"],"id":374},{"start":{"row":186,"column":62},"end":{"row":186,"column":63},"action":"insert","lines":["d"]}],[{"start":{"row":186,"column":63},"end":{"row":186,"column":64},"action":"insert","lines":[" "],"id":375}],[{"start":{"row":186,"column":63},"end":{"row":186,"column":64},"action":"remove","lines":[" "],"id":376},{"start":{"row":186,"column":62},"end":{"row":186,"column":63},"action":"remove","lines":["d"]},{"start":{"row":186,"column":61},"end":{"row":186,"column":62},"action":"remove","lines":["w"]}],[{"start":{"row":186,"column":61},"end":{"row":186,"column":62},"action":"insert","lines":["e"],"id":377}],[{"start":{"row":186,"column":61},"end":{"row":186,"column":62},"action":"remove","lines":["e"],"id":378}],[{"start":{"row":186,"column":61},"end":{"row":186,"column":62},"action":"insert","lines":["w"],"id":379},{"start":{"row":186,"column":62},"end":{"row":186,"column":63},"action":"insert","lines":["e"]},{"start":{"row":186,"column":63},"end":{"row":186,"column":64},"action":"insert","lines":["d"]}],[{"start":{"row":186,"column":64},"end":{"row":186,"column":65},"action":"insert","lines":[" "],"id":380},{"start":{"row":186,"column":65},"end":{"row":186,"column":66},"action":"insert","lines":["u"]}],[{"start":{"row":186,"column":66},"end":{"row":186,"column":67},"action":"insert","lines":["p"],"id":381}],[{"start":{"row":186,"column":66},"end":{"row":186,"column":67},"action":"remove","lines":["p"],"id":382},{"start":{"row":186,"column":65},"end":{"row":186,"column":66},"action":"remove","lines":["u"]}],[{"start":{"row":186,"column":65},"end":{"row":186,"column":66},"action":"insert","lines":["w"],"id":383},{"start":{"row":186,"column":66},"end":{"row":186,"column":67},"action":"insert","lines":["h"]},{"start":{"row":186,"column":67},"end":{"row":186,"column":68},"action":"insert","lines":["e"]},{"start":{"row":186,"column":68},"end":{"row":186,"column":69},"action":"insert","lines":["n"]}],[{"start":{"row":186,"column":69},"end":{"row":186,"column":70},"action":"insert","lines":[" "],"id":384},{"start":{"row":186,"column":70},"end":{"row":186,"column":71},"action":"insert","lines":["a"]},{"start":{"row":186,"column":71},"end":{"row":186,"column":72},"action":"insert","lines":["c"]},{"start":{"row":186,"column":72},"end":{"row":186,"column":73},"action":"insert","lines":["t"]},{"start":{"row":186,"column":73},"end":{"row":186,"column":74},"action":"insert","lines":["i"]},{"start":{"row":186,"column":74},"end":{"row":186,"column":75},"action":"insert","lines":["o"]},{"start":{"row":186,"column":75},"end":{"row":186,"column":76},"action":"insert","lines":["n"]}],[{"start":{"row":186,"column":76},"end":{"row":186,"column":77},"action":"insert","lines":[" "],"id":385},{"start":{"row":186,"column":77},"end":{"row":186,"column":78},"action":"insert","lines":["i"]},{"start":{"row":186,"column":78},"end":{"row":186,"column":79},"action":"insert","lines":["s"]}],[{"start":{"row":186,"column":79},"end":{"row":186,"column":80},"action":"insert","lines":[" "],"id":386},{"start":{"row":186,"column":80},"end":{"row":186,"column":81},"action":"insert","lines":["r"]},{"start":{"row":186,"column":81},"end":{"row":186,"column":82},"action":"insert","lines":["e"]},{"start":{"row":186,"column":82},"end":{"row":186,"column":83},"action":"insert","lines":["v"]},{"start":{"row":186,"column":83},"end":{"row":186,"column":84},"action":"insert","lines":["i"]},{"start":{"row":186,"column":84},"end":{"row":186,"column":85},"action":"insert","lines":["e"]},{"start":{"row":186,"column":85},"end":{"row":186,"column":86},"action":"insert","lines":["w"]}],[{"start":{"row":197,"column":10},"end":{"row":197,"column":11},"action":"insert","lines":["R"],"id":387},{"start":{"row":197,"column":11},"end":{"row":197,"column":12},"action":"insert","lines":["e"]},{"start":{"row":197,"column":12},"end":{"row":197,"column":13},"action":"insert","lines":["v"]},{"start":{"row":197,"column":13},"end":{"row":197,"column":14},"action":"insert","lines":["i"]},{"start":{"row":197,"column":14},"end":{"row":197,"column":15},"action":"insert","lines":["e"]},{"start":{"row":197,"column":15},"end":{"row":197,"column":16},"action":"insert","lines":["w"]},{"start":{"row":197,"column":16},"end":{"row":197,"column":17},"action":"insert","lines":["F"]}],[{"start":{"row":197,"column":17},"end":{"row":197,"column":18},"action":"insert","lines":["u"],"id":388},{"start":{"row":197,"column":18},"end":{"row":197,"column":19},"action":"insert","lines":["n"]},{"start":{"row":197,"column":19},"end":{"row":197,"column":20},"action":"insert","lines":["c"]},{"start":{"row":197,"column":20},"end":{"row":197,"column":21},"action":"insert","lines":["t"]},{"start":{"row":197,"column":21},"end":{"row":197,"column":22},"action":"insert","lines":["i"]},{"start":{"row":197,"column":22},"end":{"row":197,"column":23},"action":"insert","lines":["o"]},{"start":{"row":197,"column":23},"end":{"row":197,"column":24},"action":"insert","lines":["n"]},{"start":{"row":197,"column":24},"end":{"row":197,"column":25},"action":"insert","lines":["a"]},{"start":{"row":197,"column":25},"end":{"row":197,"column":26},"action":"insert","lines":["s"]}],[{"start":{"row":197,"column":25},"end":{"row":197,"column":26},"action":"remove","lines":["s"],"id":389},{"start":{"row":197,"column":24},"end":{"row":197,"column":25},"action":"remove","lines":["a"]}],[{"start":{"row":197,"column":24},"end":{"row":197,"column":25},"action":"insert","lines":["s"],"id":390},{"start":{"row":197,"column":25},"end":{"row":197,"column":26},"action":"insert","lines":["."]},{"start":{"row":197,"column":26},"end":{"row":197,"column":27},"action":"insert","lines":["g"]},{"start":{"row":197,"column":27},"end":{"row":197,"column":28},"action":"insert","lines":["e"]}],[{"start":{"row":197,"column":28},"end":{"row":197,"column":29},"action":"insert","lines":["t"],"id":391},{"start":{"row":197,"column":29},"end":{"row":197,"column":30},"action":"insert","lines":["_"]},{"start":{"row":197,"column":30},"end":{"row":197,"column":31},"action":"insert","lines":["r"]}],[{"start":{"row":197,"column":31},"end":{"row":197,"column":32},"action":"insert","lines":["e"],"id":392}],[{"start":{"row":197,"column":26},"end":{"row":197,"column":32},"action":"remove","lines":["get_re"],"id":393},{"start":{"row":197,"column":26},"end":{"row":197,"column":44},"action":"insert","lines":["get_review_message"]}],[{"start":{"row":173,"column":4},"end":{"row":180,"column":7},"action":"remove","lines":["def send_notification","        @sender_email = \"bookatutorapp@gmail.com\"","        @receiver_email = self.get_sender[\"email\"]","        ","        async_email","        ","        return @mail_status.wait.content_type.length","    end"],"id":394}],[{"start":{"row":110,"column":7},"end":{"row":111,"column":0},"action":"insert","lines":["",""],"id":395},{"start":{"row":111,"column":0},"end":{"row":111,"column":4},"action":"insert","lines":["    "]},{"start":{"row":111,"column":4},"end":{"row":112,"column":0},"action":"insert","lines":["",""]},{"start":{"row":112,"column":0},"end":{"row":112,"column":4},"action":"insert","lines":["    "]},{"start":{"row":112,"column":4},"end":{"row":112,"column":5},"action":"insert","lines":["d"]},{"start":{"row":112,"column":5},"end":{"row":112,"column":6},"action":"insert","lines":["e"]},{"start":{"row":112,"column":6},"end":{"row":112,"column":7},"action":"insert","lines":["f"]}],[{"start":{"row":112,"column":7},"end":{"row":112,"column":8},"action":"insert","lines":[" "],"id":396},{"start":{"row":112,"column":8},"end":{"row":112,"column":9},"action":"insert","lines":["s"]},{"start":{"row":112,"column":9},"end":{"row":112,"column":10},"action":"insert","lines":["e"]},{"start":{"row":112,"column":10},"end":{"row":112,"column":11},"action":"insert","lines":["n"]},{"start":{"row":112,"column":11},"end":{"row":112,"column":12},"action":"insert","lines":["d"]},{"start":{"row":112,"column":12},"end":{"row":112,"column":13},"action":"insert","lines":["_"]},{"start":{"row":112,"column":13},"end":{"row":112,"column":14},"action":"insert","lines":["n"]},{"start":{"row":112,"column":14},"end":{"row":112,"column":15},"action":"insert","lines":["o"]}],[{"start":{"row":112,"column":15},"end":{"row":112,"column":16},"action":"insert","lines":["t"],"id":397},{"start":{"row":112,"column":16},"end":{"row":112,"column":17},"action":"insert","lines":["i"]},{"start":{"row":112,"column":17},"end":{"row":112,"column":18},"action":"insert","lines":["f"]},{"start":{"row":112,"column":18},"end":{"row":112,"column":19},"action":"insert","lines":["i"]},{"start":{"row":112,"column":19},"end":{"row":112,"column":20},"action":"insert","lines":["c"]},{"start":{"row":112,"column":20},"end":{"row":112,"column":21},"action":"insert","lines":["a"]}],[{"start":{"row":112,"column":21},"end":{"row":112,"column":22},"action":"insert","lines":["t"],"id":398},{"start":{"row":112,"column":22},"end":{"row":112,"column":23},"action":"insert","lines":["i"]},{"start":{"row":112,"column":23},"end":{"row":112,"column":24},"action":"insert","lines":["o"]},{"start":{"row":112,"column":24},"end":{"row":112,"column":25},"action":"insert","lines":["n"]},{"start":{"row":112,"column":25},"end":{"row":112,"column":26},"action":"insert","lines":["_"]},{"start":{"row":112,"column":26},"end":{"row":112,"column":27},"action":"insert","lines":["t"]},{"start":{"row":112,"column":27},"end":{"row":112,"column":28},"action":"insert","lines":["o"]}],[{"start":{"row":112,"column":28},"end":{"row":112,"column":29},"action":"insert","lines":["_"],"id":399},{"start":{"row":112,"column":29},"end":{"row":112,"column":30},"action":"insert","lines":["s"]},{"start":{"row":112,"column":30},"end":{"row":112,"column":31},"action":"insert","lines":["e"]},{"start":{"row":112,"column":31},"end":{"row":112,"column":32},"action":"insert","lines":["n"]},{"start":{"row":112,"column":32},"end":{"row":112,"column":33},"action":"insert","lines":["d"]},{"start":{"row":112,"column":33},"end":{"row":112,"column":34},"action":"insert","lines":["e"]},{"start":{"row":112,"column":34},"end":{"row":112,"column":35},"action":"insert","lines":["r"]}],[{"start":{"row":112,"column":35},"end":{"row":113,"column":0},"action":"insert","lines":["",""],"id":400},{"start":{"row":113,"column":0},"end":{"row":113,"column":8},"action":"insert","lines":["        "]},{"start":{"row":113,"column":8},"end":{"row":113,"column":9},"action":"insert","lines":["e"]},{"start":{"row":113,"column":9},"end":{"row":113,"column":10},"action":"insert","lines":["n"]},{"start":{"row":113,"column":10},"end":{"row":113,"column":11},"action":"insert","lines":["d"]},{"start":{"row":113,"column":4},"end":{"row":113,"column":8},"action":"remove","lines":["    "]}],[{"start":{"row":112,"column":35},"end":{"row":113,"column":0},"action":"insert","lines":["",""],"id":401},{"start":{"row":113,"column":0},"end":{"row":113,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":112,"column":4},"end":{"row":114,"column":7},"action":"remove","lines":["def send_notification_to_sender","        ","    end"],"id":405}],[{"start":{"row":112,"column":4},"end":{"row":119,"column":7},"action":"insert","lines":["def send_notification","        @sender_email = \"bookatutorapp@gmail.com\"","        @receiver_email = self.get_sender[\"email\"]","        ","        async_email","        ","        return @mail_status.wait.content_type.length","    end"],"id":406}],[{"start":{"row":112,"column":25},"end":{"row":112,"column":26},"action":"insert","lines":["_"],"id":407},{"start":{"row":112,"column":26},"end":{"row":112,"column":27},"action":"insert","lines":["t"]},{"start":{"row":112,"column":27},"end":{"row":112,"column":28},"action":"insert","lines":["o"]},{"start":{"row":112,"column":28},"end":{"row":112,"column":29},"action":"insert","lines":["_"]},{"start":{"row":112,"column":29},"end":{"row":112,"column":30},"action":"insert","lines":["s"]},{"start":{"row":112,"column":30},"end":{"row":112,"column":31},"action":"insert","lines":["e"]}],[{"start":{"row":112,"column":31},"end":{"row":112,"column":32},"action":"insert","lines":["n"],"id":408},{"start":{"row":112,"column":32},"end":{"row":112,"column":33},"action":"insert","lines":["d"]},{"start":{"row":112,"column":33},"end":{"row":112,"column":34},"action":"insert","lines":["e"]},{"start":{"row":112,"column":34},"end":{"row":112,"column":35},"action":"insert","lines":["r"]}],[{"start":{"row":119,"column":7},"end":{"row":120,"column":0},"action":"insert","lines":["",""],"id":409},{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "]},{"start":{"row":120,"column":4},"end":{"row":121,"column":0},"action":"insert","lines":["",""]},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":153,"column":4},"end":{"row":160,"column":7},"action":"remove","lines":["def send_notification","        @sender_email = \"bookatutorapp@gmail.com\"","        @receiver_email = self.get_receiver[\"email\"]","        ","        async_email","        ","        return @mail_status.wait.content_type.length","    end"],"id":411}],[{"start":{"row":119,"column":7},"end":{"row":120,"column":0},"action":"insert","lines":["",""],"id":412},{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":120,"column":4},"end":{"row":127,"column":7},"action":"insert","lines":["def send_notification","        @sender_email = \"bookatutorapp@gmail.com\"","        @receiver_email = self.get_receiver[\"email\"]","        ","        async_email","        ","        return @mail_status.wait.content_type.length","    end"],"id":413}],[{"start":{"row":119,"column":7},"end":{"row":120,"column":0},"action":"insert","lines":["",""],"id":414},{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":121,"column":25},"end":{"row":121,"column":26},"action":"insert","lines":["_"],"id":415},{"start":{"row":121,"column":26},"end":{"row":121,"column":27},"action":"insert","lines":["t"]},{"start":{"row":121,"column":27},"end":{"row":121,"column":28},"action":"insert","lines":["o"]},{"start":{"row":121,"column":28},"end":{"row":121,"column":29},"action":"insert","lines":["_"]},{"start":{"row":121,"column":29},"end":{"row":121,"column":30},"action":"insert","lines":["r"]},{"start":{"row":121,"column":30},"end":{"row":121,"column":31},"action":"insert","lines":["e"]},{"start":{"row":121,"column":31},"end":{"row":121,"column":32},"action":"insert","lines":["c"]},{"start":{"row":121,"column":32},"end":{"row":121,"column":33},"action":"insert","lines":["e"]}],[{"start":{"row":121,"column":33},"end":{"row":121,"column":34},"action":"insert","lines":["i"],"id":416},{"start":{"row":121,"column":34},"end":{"row":121,"column":35},"action":"insert","lines":["v"]},{"start":{"row":121,"column":35},"end":{"row":121,"column":36},"action":"insert","lines":["e"]},{"start":{"row":121,"column":36},"end":{"row":121,"column":37},"action":"insert","lines":["r"]}],[{"start":{"row":162,"column":4},"end":{"row":162,"column":5},"action":"insert","lines":["s"],"id":417},{"start":{"row":162,"column":5},"end":{"row":162,"column":6},"action":"insert","lines":["e"]},{"start":{"row":162,"column":6},"end":{"row":162,"column":7},"action":"insert","lines":["l"]},{"start":{"row":162,"column":7},"end":{"row":162,"column":8},"action":"insert","lines":["f"]},{"start":{"row":162,"column":8},"end":{"row":162,"column":9},"action":"insert","lines":["."]}],[{"start":{"row":162,"column":9},"end":{"row":162,"column":10},"action":"insert","lines":["s"],"id":418},{"start":{"row":162,"column":10},"end":{"row":162,"column":11},"action":"insert","lines":["e"]},{"start":{"row":162,"column":11},"end":{"row":162,"column":12},"action":"insert","lines":["n"]},{"start":{"row":162,"column":12},"end":{"row":162,"column":13},"action":"insert","lines":["d"]},{"start":{"row":162,"column":13},"end":{"row":162,"column":14},"action":"insert","lines":["_"]},{"start":{"row":162,"column":14},"end":{"row":162,"column":15},"action":"insert","lines":["n"]}],[{"start":{"row":162,"column":15},"end":{"row":162,"column":16},"action":"insert","lines":["o"],"id":419},{"start":{"row":162,"column":16},"end":{"row":162,"column":17},"action":"insert","lines":["t"]},{"start":{"row":162,"column":17},"end":{"row":162,"column":18},"action":"insert","lines":["i"]}],[{"start":{"row":162,"column":9},"end":{"row":162,"column":18},"action":"remove","lines":["send_noti"],"id":420},{"start":{"row":162,"column":9},"end":{"row":162,"column":38},"action":"insert","lines":["send_notification_to_receiver"]}],[{"start":{"row":162,"column":4},"end":{"row":162,"column":5},"action":"insert","lines":["#"],"id":421}],[{"start":{"row":206,"column":12},"end":{"row":206,"column":18},"action":"remove","lines":["action"],"id":422},{"start":{"row":206,"column":12},"end":{"row":206,"column":13},"action":"insert","lines":["s"]},{"start":{"row":206,"column":13},"end":{"row":206,"column":14},"action":"insert","lines":["u"]},{"start":{"row":206,"column":14},"end":{"row":206,"column":15},"action":"insert","lines":["b"]},{"start":{"row":206,"column":15},"end":{"row":206,"column":16},"action":"insert","lines":["j"]},{"start":{"row":206,"column":16},"end":{"row":206,"column":17},"action":"insert","lines":["e"]},{"start":{"row":206,"column":17},"end":{"row":206,"column":18},"action":"insert","lines":["c"]},{"start":{"row":206,"column":18},"end":{"row":206,"column":19},"action":"insert","lines":["t"]}],[{"start":{"row":207,"column":16},"end":{"row":207,"column":22},"action":"remove","lines":["action"],"id":423},{"start":{"row":207,"column":16},"end":{"row":207,"column":17},"action":"insert","lines":["s"]},{"start":{"row":207,"column":17},"end":{"row":207,"column":18},"action":"insert","lines":["u"]},{"start":{"row":207,"column":18},"end":{"row":207,"column":19},"action":"insert","lines":["b"]},{"start":{"row":207,"column":19},"end":{"row":207,"column":20},"action":"insert","lines":["j"]},{"start":{"row":207,"column":20},"end":{"row":207,"column":21},"action":"insert","lines":["e"]},{"start":{"row":207,"column":21},"end":{"row":207,"column":22},"action":"insert","lines":["c"]},{"start":{"row":207,"column":22},"end":{"row":207,"column":23},"action":"insert","lines":["t"]}],[{"start":{"row":209,"column":3},"end":{"row":210,"column":0},"action":"insert","lines":["",""],"id":424},{"start":{"row":210,"column":0},"end":{"row":211,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":211,"column":0},"end":{"row":227,"column":3},"action":"insert","lines":["class ReviewNotification < NotificationDecorator","    def initialize(notification)","        super(notification)","        @action = \"Review\"","        @subject = \"New #{@action} \"","    end","    ","    def message","        return \"<h1>You have a new #{get_action}. Check out the details below</h1>","        <p>Review From: #{get_sender_full_name}</p>","        #{ReviewFunctions.get_review_message}\"","    end","    ","    def get_subject","        return @subject","    end","end"],"id":425}],[{"start":{"row":211,"column":6},"end":{"row":211,"column":7},"action":"insert","lines":["U"],"id":426},{"start":{"row":211,"column":7},"end":{"row":211,"column":8},"action":"insert","lines":["s"]},{"start":{"row":211,"column":8},"end":{"row":211,"column":9},"action":"insert","lines":["e"]},{"start":{"row":211,"column":9},"end":{"row":211,"column":10},"action":"insert","lines":["r"]}],[{"start":{"row":219,"column":24},"end":{"row":219,"column":30},"action":"remove","lines":["have a"],"id":427},{"start":{"row":219,"column":24},"end":{"row":219,"column":25},"action":"insert","lines":["c"]},{"start":{"row":219,"column":25},"end":{"row":219,"column":26},"action":"insert","lines":["r"]},{"start":{"row":219,"column":26},"end":{"row":219,"column":27},"action":"insert","lines":["e"]},{"start":{"row":219,"column":27},"end":{"row":219,"column":28},"action":"insert","lines":["r"]},{"start":{"row":219,"column":28},"end":{"row":219,"column":29},"action":"insert","lines":["a"]},{"start":{"row":219,"column":29},"end":{"row":219,"column":30},"action":"insert","lines":["t"]},{"start":{"row":219,"column":30},"end":{"row":219,"column":31},"action":"insert","lines":["e"]}],[{"start":{"row":219,"column":30},"end":{"row":219,"column":31},"action":"remove","lines":["e"],"id":428},{"start":{"row":219,"column":29},"end":{"row":219,"column":30},"action":"remove","lines":["t"]},{"start":{"row":219,"column":28},"end":{"row":219,"column":29},"action":"remove","lines":["a"]},{"start":{"row":219,"column":27},"end":{"row":219,"column":28},"action":"remove","lines":["r"]}],[{"start":{"row":219,"column":27},"end":{"row":219,"column":28},"action":"insert","lines":["a"],"id":429},{"start":{"row":219,"column":28},"end":{"row":219,"column":29},"action":"insert","lines":["t"]},{"start":{"row":219,"column":29},"end":{"row":219,"column":30},"action":"insert","lines":["e"]},{"start":{"row":219,"column":30},"end":{"row":219,"column":31},"action":"insert","lines":["d"]}],[{"start":{"row":219,"column":31},"end":{"row":219,"column":32},"action":"insert","lines":[" "],"id":430},{"start":{"row":219,"column":32},"end":{"row":219,"column":33},"action":"insert","lines":["a"]}],[{"start":{"row":219,"column":33},"end":{"row":219,"column":34},"action":"insert","lines":[" "],"id":431},{"start":{"row":219,"column":34},"end":{"row":219,"column":35},"action":"insert","lines":["n"]},{"start":{"row":219,"column":35},"end":{"row":219,"column":36},"action":"insert","lines":["e"]},{"start":{"row":219,"column":36},"end":{"row":219,"column":37},"action":"insert","lines":["w"]},{"start":{"row":219,"column":37},"end":{"row":219,"column":38},"action":"insert","lines":["\\"]},{"start":{"row":219,"column":38},"end":{"row":219,"column":39},"action":"insert","lines":["\\"]},{"start":{"row":219,"column":39},"end":{"row":219,"column":40},"action":"insert","lines":["\\"]}],[{"start":{"row":219,"column":39},"end":{"row":219,"column":40},"action":"remove","lines":["\\"],"id":432},{"start":{"row":219,"column":38},"end":{"row":219,"column":39},"action":"remove","lines":["\\"]},{"start":{"row":219,"column":37},"end":{"row":219,"column":38},"action":"remove","lines":["\\"]},{"start":{"row":219,"column":36},"end":{"row":219,"column":37},"action":"remove","lines":["w"]},{"start":{"row":219,"column":35},"end":{"row":219,"column":36},"action":"remove","lines":["e"]},{"start":{"row":219,"column":34},"end":{"row":219,"column":35},"action":"remove","lines":["n"]},{"start":{"row":219,"column":33},"end":{"row":219,"column":34},"action":"remove","lines":[" "]}],[{"start":{"row":220,"column":17},"end":{"row":220,"column":22},"action":"remove","lines":[" From"],"id":433},{"start":{"row":220,"column":17},"end":{"row":220,"column":18},"action":"insert","lines":["e"]},{"start":{"row":220,"column":18},"end":{"row":220,"column":19},"action":"insert","lines":["d"]}],[{"start":{"row":220,"column":27},"end":{"row":220,"column":33},"action":"remove","lines":["sender"],"id":434},{"start":{"row":220,"column":27},"end":{"row":220,"column":28},"action":"insert","lines":["r"]},{"start":{"row":220,"column":28},"end":{"row":220,"column":29},"action":"insert","lines":["e"]},{"start":{"row":220,"column":29},"end":{"row":220,"column":30},"action":"insert","lines":["c"]},{"start":{"row":220,"column":30},"end":{"row":220,"column":31},"action":"insert","lines":["e"]},{"start":{"row":220,"column":31},"end":{"row":220,"column":32},"action":"insert","lines":["i"]},{"start":{"row":220,"column":32},"end":{"row":220,"column":33},"action":"insert","lines":["v"]},{"start":{"row":220,"column":33},"end":{"row":220,"column":34},"action":"insert","lines":["e"]},{"start":{"row":220,"column":34},"end":{"row":220,"column":35},"action":"insert","lines":["r"]}],[{"start":{"row":227,"column":3},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":435},{"start":{"row":228,"column":0},"end":{"row":229,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":229,"column":0},"end":{"row":229,"column":1},"action":"insert","lines":["e"],"id":436},{"start":{"row":229,"column":1},"end":{"row":229,"column":2},"action":"insert","lines":["n"]},{"start":{"row":229,"column":2},"end":{"row":229,"column":3},"action":"insert","lines":["d"]}],[{"start":{"row":229,"column":3},"end":{"row":229,"column":4},"action":"insert","lines":[" "],"id":437},{"start":{"row":229,"column":4},"end":{"row":229,"column":5},"action":"insert","lines":["R"]},{"start":{"row":229,"column":5},"end":{"row":229,"column":6},"action":"insert","lines":["e"]},{"start":{"row":229,"column":6},"end":{"row":229,"column":7},"action":"insert","lines":["v"]},{"start":{"row":229,"column":7},"end":{"row":229,"column":8},"action":"insert","lines":["i"]},{"start":{"row":229,"column":8},"end":{"row":229,"column":9},"action":"insert","lines":["e"]},{"start":{"row":229,"column":9},"end":{"row":229,"column":10},"action":"insert","lines":["w"]}],[{"start":{"row":229,"column":10},"end":{"row":229,"column":11},"action":"insert","lines":[" "],"id":438},{"start":{"row":229,"column":11},"end":{"row":229,"column":12},"action":"insert","lines":["d"]},{"start":{"row":229,"column":12},"end":{"row":229,"column":13},"action":"insert","lines":["e"]}],[{"start":{"row":229,"column":13},"end":{"row":229,"column":14},"action":"insert","lines":["c"],"id":439},{"start":{"row":229,"column":14},"end":{"row":229,"column":15},"action":"insert","lines":["o"]},{"start":{"row":229,"column":15},"end":{"row":229,"column":16},"action":"insert","lines":["r"]},{"start":{"row":229,"column":16},"end":{"row":229,"column":17},"action":"insert","lines":["a"]},{"start":{"row":229,"column":17},"end":{"row":229,"column":18},"action":"insert","lines":["t"]},{"start":{"row":229,"column":18},"end":{"row":229,"column":19},"action":"insert","lines":["p"]},{"start":{"row":229,"column":19},"end":{"row":229,"column":20},"action":"insert","lines":["r"]},{"start":{"row":229,"column":20},"end":{"row":229,"column":21},"action":"insert","lines":["s"]}],[{"start":{"row":229,"column":20},"end":{"row":229,"column":21},"action":"remove","lines":["s"],"id":440}],[{"start":{"row":229,"column":20},"end":{"row":229,"column":21},"action":"insert","lines":["\\"],"id":441}],[{"start":{"row":229,"column":20},"end":{"row":229,"column":21},"action":"remove","lines":["\\"],"id":442},{"start":{"row":229,"column":19},"end":{"row":229,"column":20},"action":"remove","lines":["r"]},{"start":{"row":229,"column":18},"end":{"row":229,"column":19},"action":"remove","lines":["p"]}],[{"start":{"row":229,"column":18},"end":{"row":229,"column":19},"action":"insert","lines":["o"],"id":443},{"start":{"row":229,"column":19},"end":{"row":229,"column":20},"action":"insert","lines":["r"]},{"start":{"row":229,"column":20},"end":{"row":229,"column":21},"action":"insert","lines":["s"]}],[{"start":{"row":229,"column":21},"end":{"row":229,"column":22},"action":"insert","lines":[" "],"id":444},{"start":{"row":229,"column":22},"end":{"row":229,"column":23},"action":"insert","lines":["c"]},{"start":{"row":229,"column":23},"end":{"row":229,"column":24},"action":"insert","lines":["o"]},{"start":{"row":229,"column":24},"end":{"row":229,"column":25},"action":"insert","lines":["n"]}],[{"start":{"row":229,"column":25},"end":{"row":229,"column":26},"action":"insert","lines":["f"],"id":445},{"start":{"row":229,"column":26},"end":{"row":229,"column":27},"action":"insert","lines":["i"]},{"start":{"row":229,"column":27},"end":{"row":229,"column":28},"action":"insert","lines":["g"]},{"start":{"row":229,"column":28},"end":{"row":229,"column":29},"action":"insert","lines":["u"]},{"start":{"row":229,"column":29},"end":{"row":229,"column":30},"action":"insert","lines":["r"]},{"start":{"row":229,"column":30},"end":{"row":229,"column":31},"action":"insert","lines":["a"]},{"start":{"row":229,"column":31},"end":{"row":229,"column":32},"action":"insert","lines":["t"]},{"start":{"row":229,"column":32},"end":{"row":229,"column":33},"action":"insert","lines":["i"]},{"start":{"row":229,"column":33},"end":{"row":229,"column":34},"action":"insert","lines":["o"]}],[{"start":{"row":229,"column":34},"end":{"row":229,"column":35},"action":"insert","lines":["n"],"id":446}],[{"start":{"row":229,"column":0},"end":{"row":229,"column":2},"action":"insert","lines":["# "],"id":447}]]},"ace":{"folds":[{"start":{"row":70,"column":18},"end":{"row":95,"column":11},"placeholder":"..."},{"start":{"row":133,"column":47},"end":{"row":141,"column":7},"placeholder":"..."},{"start":{"row":231,"column":47},"end":{"row":238,"column":7},"placeholder":"..."}],"scrolltop":2360,"scrollleft":0,"selection":{"start":{"row":229,"column":2},"end":{"row":229,"column":37},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":200,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1575125042299}