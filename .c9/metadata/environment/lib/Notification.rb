{"changed":true,"filter":false,"title":"Notification.rb","tooltip":"/lib/Notification.rb","value":"require 'delegate'\nrequire 'pony'\nrequire 'geocoder'\nrequire 'time'\nrequire_relative 'functions/BookingFunctions'\nrequire_relative 'functions/ReviewFunctions'\n\n\n# concrete component to be decorated.\n# we have a notification class that we will like to decorate based on action\n# action include booking, review, inbox.\nclass Notification\n    def initialize(sender, receiver, content)\n        @sender = sender\n        @receiver = receiver\n        @content = content\n    end\n    \n     #get content\n    def get_content\n        return @content\n    end\n    \n    #get sender information\n    def get_sender\n        return @sender\n    end\n    \n    #get receiver information\n    def get_receiver\n        return @receiver\n    end\n   \nend\n\n# decorator class that serves as super class for concrete decorators.\n# includes functions that is common to all concrete decorators\n\nclass NotificationDecorator\n    #initialize our constructor\n    def initialize(notification)\n        @notification = notification\n        @action = \"\" \n        @sender = get_sender\n        @receiver = get_receiver\n        @content = get_content\n    end\n    \n    def get_content\n        return @notification.get_content\n    end\n    \n    def get_sender\n        return @notification.get_sender\n    end\n    \n    def get_receiver\n        return @notification.get_receiver\n    end\n    \n    def get_action\n        return @action\n    end\n    \n    \n    def message\n        return \"You have a new #{@action} from #{get_sender}. Check out the details\"\n    end\n    \n    #send email using Pony\n    def send_email\n        begin\n            Pony.mail(\n                :to => @receiver_email, \n                :from => @sender_email,\n                :subject => @subject,\n                :html_body => self.message,\n                :body => self.message,\n                :via => :smtp,\n                :via_options => {\n                    :address              => 'smtp.gmail.com',\n                    :port                 => '587',\n                    :enable_starttls_auto => true,\n                    :user_name            => 'bookatutorapp@gmail.com',\n                    :password             => 'b00katut0r@123!',\n                    :authentication       => :plain, \n                    :domain               => \"localhost.localdomain\" \n                }\n            )\n            \n            #return message-sent == true\n            \n        rescue Exception => e\n            puts e.message\n            puts e.backtrace.inspect\n        end\n    end\n    \n    def async_email\n        @mail_status = Async do\n            self.send_email\n        end\n    end\n    \n    def get_sender_full_name\n        return \"#{@sender['firstname']} #{@sender['lastname']}\"   \n    end\n    \n    def get_receiver_full_name\n         return \"#{@receiver['firstname']} #{@receiver['lastname']}\"   \n    end\n    \n    def send_notification_to_sender\n        @sender_email = \"bookatutorapp@gmail.com\"\n        @receiver_email = self.get_sender[\"email\"]\n        \n        async_email\n        \n        return @mail_status.wait.content_type.length\n    end\n    \n    def send_notification_to_receiver\n        @sender_email = \"bookatutorapp@gmail.com\"\n        @receiver_email = self.get_receiver[\"email\"]\n        \n        async_email\n        \n        return @mail_status.wait.content_type.length\n    end\n    \n    \nend\n\nclass BasicNotification < NotificationDecorator\n    \n    def initialize(notification)\n        super(notification)\n        @action = \"Basic\"\n    end\n    def message\n        return \"You have a new #{@action} from #{@sender}. Check out the details\"\n    end\n    \n  \nend\n\n#configure notification so send to student and tutor upon booking creation\n#modify @action and message within this class\nclass BookingNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Booking\"\n        @subject = \"New #{@action}\"\n    end\n    \n    def message\n        return \"<h1>You have a new  #{get_action}. Check out the details below</h1> \\r\\n\n        <p>Booking from: #{get_sender_full_name}} </p>\\r\\n\n        #{BookingFunctions.get_booking_message(get_content)} \"\n    end\n    \n     #send notification using async\n    #self.send_notification_to_receiver\n  \nend\n\n\nclass UserBookingNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Booking\"\n        @subject = \"New #{@action} created\"\n        \n    end\n    \n    def message\n        return \"<h1>You have created a #{get_action}. Check out the details below </h1>\\r\\n \n        <p>Tutor Booked: #{get_receiver_full_name}</p> \\r\\n\n        #{BookingFunctions.get_booking_message(get_content)} \\r\\n\n        <p>Thank you for using bookatutor to create this booking</p>\"\n    end\n    \n    def get_subject\n        return @subject\n    end\n    \n    \nend\n\n#end of booking decoration\n\n\n#Cconfigure notification to send email to user and user_reviewed when action is review\nclass ReviewNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Review\"\n        @subject = \"New #{@action} \"\n    end\n    \n    def message\n        return \"<h1>You have a new #{get_action}. Check out the details below</h1>\n        <p>Review From: #{get_sender_full_name}</p>\n        #{ReviewFunctions.get_review_message(get_content)}\"\n    end\n    \n    def get_subject\n        return @subject\n    end\nend\n\nclass UserReviewNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Review\"\n        @subject = \"New #{@action} created\"\n    end\n    \n    def message\n        return \"<h1>You created a new #{get_action}. Check out the details below</h1>\n        <p>Reviewed: #{get_receiver_full_name}</p>\n        #{ReviewFunctions.get_review_message(get_content)}\"\n    end\n    \n    def get_subject\n        return @subject\n    end\nend\n\n# end Review decorators configuration\n\nclass InboxNotification < NotificationDecorator\n    def initialize(notification)\n        super(notification)\n        @action = \"Message\"\n        @subject = \"New #{@action}\"\n    end\n    def message\n        return \"<h1>You have a new #{@action} from #{get_sender_full_name}</h1>.\n        <p><a href='localhost:3000/user/signin'>Login</a> to read</p>\"\n    end\n\nend\n\n# class AppMessageNotification < NotificationDecorator\n#     def message\n#         return \"You have a new #{@action} from #{@sender}. Check out the details\"\n#     end\n    \n#     def get_content\n#         return @content\n#     end\n# end\n   ","undoManager":{"mark":-2,"position":100,"stack":[[{"start":{"row":235,"column":26},"end":{"row":235,"column":27},"action":"insert","lines":["@"],"id":18},{"start":{"row":235,"column":27},"end":{"row":235,"column":28},"action":"insert","lines":["m"]},{"start":{"row":235,"column":28},"end":{"row":235,"column":29},"action":"insert","lines":["q"]}],[{"start":{"row":235,"column":28},"end":{"row":235,"column":29},"action":"remove","lines":["q"],"id":19}],[{"start":{"row":235,"column":28},"end":{"row":235,"column":29},"action":"insert","lines":["a"],"id":20},{"start":{"row":235,"column":29},"end":{"row":235,"column":30},"action":"insert","lines":["c"]},{"start":{"row":235,"column":30},"end":{"row":235,"column":31},"action":"insert","lines":["t"]},{"start":{"row":235,"column":31},"end":{"row":235,"column":32},"action":"insert","lines":["i"]}],[{"start":{"row":235,"column":31},"end":{"row":235,"column":32},"action":"remove","lines":["i"],"id":21},{"start":{"row":235,"column":30},"end":{"row":235,"column":31},"action":"remove","lines":["t"]},{"start":{"row":235,"column":29},"end":{"row":235,"column":30},"action":"remove","lines":["c"]},{"start":{"row":235,"column":28},"end":{"row":235,"column":29},"action":"remove","lines":["a"]},{"start":{"row":235,"column":27},"end":{"row":235,"column":28},"action":"remove","lines":["m"]}],[{"start":{"row":235,"column":27},"end":{"row":235,"column":28},"action":"insert","lines":["a"],"id":22},{"start":{"row":235,"column":28},"end":{"row":235,"column":29},"action":"insert","lines":["c"]},{"start":{"row":235,"column":29},"end":{"row":235,"column":30},"action":"insert","lines":["t"]},{"start":{"row":235,"column":30},"end":{"row":235,"column":31},"action":"insert","lines":["i"]},{"start":{"row":235,"column":31},"end":{"row":235,"column":32},"action":"insert","lines":["o"]},{"start":{"row":235,"column":32},"end":{"row":235,"column":33},"action":"insert","lines":["n"]}],[{"start":{"row":235,"column":33},"end":{"row":235,"column":34},"action":"insert","lines":["}"],"id":23}],[{"start":{"row":238,"column":16},"end":{"row":238,"column":17},"action":"insert","lines":["<"],"id":24},{"start":{"row":238,"column":17},"end":{"row":238,"column":18},"action":"insert","lines":["/"]}],[{"start":{"row":238,"column":18},"end":{"row":238,"column":19},"action":"insert","lines":["1"],"id":25}],[{"start":{"row":238,"column":18},"end":{"row":238,"column":19},"action":"remove","lines":["1"],"id":26}],[{"start":{"row":238,"column":18},"end":{"row":238,"column":19},"action":"insert","lines":["h"],"id":27},{"start":{"row":238,"column":19},"end":{"row":238,"column":20},"action":"insert","lines":["1"]},{"start":{"row":238,"column":20},"end":{"row":238,"column":21},"action":"insert","lines":[">"]}],[{"start":{"row":238,"column":64},"end":{"row":238,"column":85},"action":"remove","lines":["Check out the details"],"id":28}],[{"start":{"row":238,"column":63},"end":{"row":238,"column":64},"action":"remove","lines":[" "],"id":29}],[{"start":{"row":238,"column":63},"end":{"row":239,"column":0},"action":"insert","lines":["",""],"id":30},{"start":{"row":239,"column":0},"end":{"row":239,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":239,"column":8},"end":{"row":239,"column":9},"action":"insert","lines":["L"],"id":31},{"start":{"row":239,"column":9},"end":{"row":239,"column":10},"action":"insert","lines":["o"]},{"start":{"row":239,"column":10},"end":{"row":239,"column":11},"action":"insert","lines":["g"]},{"start":{"row":239,"column":11},"end":{"row":239,"column":12},"action":"insert","lines":["i"]},{"start":{"row":239,"column":12},"end":{"row":239,"column":13},"action":"insert","lines":["n"]}],[{"start":{"row":239,"column":13},"end":{"row":239,"column":14},"action":"insert","lines":[" "],"id":32},{"start":{"row":239,"column":14},"end":{"row":239,"column":15},"action":"insert","lines":["t"]},{"start":{"row":239,"column":15},"end":{"row":239,"column":16},"action":"insert","lines":["o"]}],[{"start":{"row":239,"column":16},"end":{"row":239,"column":17},"action":"insert","lines":[" "],"id":33},{"start":{"row":239,"column":17},"end":{"row":239,"column":18},"action":"insert","lines":["r"]},{"start":{"row":239,"column":18},"end":{"row":239,"column":19},"action":"insert","lines":["e"]},{"start":{"row":239,"column":19},"end":{"row":239,"column":20},"action":"insert","lines":["a"]},{"start":{"row":239,"column":20},"end":{"row":239,"column":21},"action":"insert","lines":["d"]}],[{"start":{"row":239,"column":8},"end":{"row":239,"column":9},"action":"insert","lines":["<"],"id":34},{"start":{"row":239,"column":9},"end":{"row":239,"column":10},"action":"insert","lines":["/"]}],[{"start":{"row":239,"column":10},"end":{"row":239,"column":11},"action":"insert","lines":["p"],"id":35},{"start":{"row":239,"column":11},"end":{"row":239,"column":12},"action":"insert","lines":[">"]}],[{"start":{"row":239,"column":12},"end":{"row":239,"column":13},"action":"insert","lines":["<"],"id":36},{"start":{"row":239,"column":13},"end":{"row":239,"column":14},"action":"insert","lines":["a"]}],[{"start":{"row":239,"column":14},"end":{"row":239,"column":15},"action":"insert","lines":[" "],"id":37},{"start":{"row":239,"column":15},"end":{"row":239,"column":16},"action":"insert","lines":["h"]},{"start":{"row":239,"column":16},"end":{"row":239,"column":17},"action":"insert","lines":["r"]},{"start":{"row":239,"column":17},"end":{"row":239,"column":18},"action":"insert","lines":["e"]}],[{"start":{"row":239,"column":18},"end":{"row":239,"column":19},"action":"insert","lines":["f"],"id":38},{"start":{"row":239,"column":19},"end":{"row":239,"column":20},"action":"insert","lines":["="]},{"start":{"row":239,"column":20},"end":{"row":239,"column":21},"action":"insert","lines":["\""]}],[{"start":{"row":239,"column":21},"end":{"row":239,"column":22},"action":"insert","lines":["l"],"id":39},{"start":{"row":239,"column":22},"end":{"row":239,"column":23},"action":"insert","lines":["o"]},{"start":{"row":239,"column":23},"end":{"row":239,"column":24},"action":"insert","lines":["c"]},{"start":{"row":239,"column":24},"end":{"row":239,"column":25},"action":"insert","lines":["a"]},{"start":{"row":239,"column":25},"end":{"row":239,"column":26},"action":"insert","lines":["o"]}],[{"start":{"row":239,"column":25},"end":{"row":239,"column":26},"action":"remove","lines":["o"],"id":40}],[{"start":{"row":239,"column":25},"end":{"row":239,"column":26},"action":"insert","lines":["l"],"id":41},{"start":{"row":239,"column":26},"end":{"row":239,"column":27},"action":"insert","lines":["h"]},{"start":{"row":239,"column":27},"end":{"row":239,"column":28},"action":"insert","lines":["o"]},{"start":{"row":239,"column":28},"end":{"row":239,"column":29},"action":"insert","lines":["s"]}],[{"start":{"row":239,"column":29},"end":{"row":239,"column":30},"action":"insert","lines":["t"],"id":42},{"start":{"row":239,"column":30},"end":{"row":239,"column":31},"action":"insert","lines":[":"]},{"start":{"row":239,"column":31},"end":{"row":239,"column":32},"action":"insert","lines":["3"]},{"start":{"row":239,"column":32},"end":{"row":239,"column":33},"action":"insert","lines":["0"]},{"start":{"row":239,"column":33},"end":{"row":239,"column":34},"action":"insert","lines":["0"]},{"start":{"row":239,"column":34},"end":{"row":239,"column":35},"action":"insert","lines":["0"]}],[{"start":{"row":239,"column":35},"end":{"row":239,"column":36},"action":"insert","lines":["\""],"id":43}],[{"start":{"row":239,"column":36},"end":{"row":239,"column":37},"action":"insert","lines":[" "],"id":44}],[{"start":{"row":239,"column":36},"end":{"row":239,"column":37},"action":"remove","lines":[" "],"id":45}],[{"start":{"row":239,"column":36},"end":{"row":239,"column":37},"action":"insert","lines":["/"],"id":46}],[{"start":{"row":239,"column":36},"end":{"row":239,"column":37},"action":"remove","lines":["/"],"id":47}],[{"start":{"row":239,"column":36},"end":{"row":239,"column":37},"action":"insert","lines":["/"],"id":48},{"start":{"row":239,"column":37},"end":{"row":239,"column":38},"action":"insert","lines":["."]}],[{"start":{"row":239,"column":37},"end":{"row":239,"column":38},"action":"remove","lines":["."],"id":49}],[{"start":{"row":239,"column":37},"end":{"row":239,"column":38},"action":"insert","lines":[">"],"id":50}],[{"start":{"row":238,"column":17},"end":{"row":238,"column":18},"action":"remove","lines":["/"],"id":51}],[{"start":{"row":238,"column":61},"end":{"row":238,"column":62},"action":"insert","lines":["<"],"id":52},{"start":{"row":238,"column":62},"end":{"row":238,"column":63},"action":"insert","lines":["/"]},{"start":{"row":238,"column":63},"end":{"row":238,"column":64},"action":"insert","lines":["h"]}],[{"start":{"row":238,"column":64},"end":{"row":238,"column":65},"action":"insert","lines":["1"],"id":53},{"start":{"row":238,"column":65},"end":{"row":238,"column":66},"action":"insert","lines":[">"]}],[{"start":{"row":239,"column":10},"end":{"row":239,"column":11},"action":"remove","lines":["p"],"id":54},{"start":{"row":239,"column":9},"end":{"row":239,"column":10},"action":"remove","lines":["/"]}],[{"start":{"row":239,"column":34},"end":{"row":239,"column":35},"action":"remove","lines":["/"],"id":55}],[{"start":{"row":239,"column":40},"end":{"row":239,"column":41},"action":"insert","lines":["<"],"id":56},{"start":{"row":239,"column":41},"end":{"row":239,"column":42},"action":"insert","lines":[":"]},{"start":{"row":239,"column":42},"end":{"row":239,"column":43},"action":"insert","lines":["/"]},{"start":{"row":239,"column":43},"end":{"row":239,"column":44},"action":"insert","lines":["a"]},{"start":{"row":239,"column":44},"end":{"row":239,"column":45},"action":"insert","lines":[":"]},{"start":{"row":239,"column":45},"end":{"row":239,"column":46},"action":"insert","lines":[">"]}],[{"start":{"row":239,"column":45},"end":{"row":239,"column":46},"action":"remove","lines":[">"],"id":57},{"start":{"row":239,"column":44},"end":{"row":239,"column":45},"action":"remove","lines":[":"]},{"start":{"row":239,"column":43},"end":{"row":239,"column":44},"action":"remove","lines":["a"]},{"start":{"row":239,"column":42},"end":{"row":239,"column":43},"action":"remove","lines":["/"]},{"start":{"row":239,"column":41},"end":{"row":239,"column":42},"action":"remove","lines":[":"]}],[{"start":{"row":239,"column":41},"end":{"row":239,"column":42},"action":"insert","lines":["/"],"id":58},{"start":{"row":239,"column":42},"end":{"row":239,"column":43},"action":"insert","lines":["a"]},{"start":{"row":239,"column":43},"end":{"row":239,"column":44},"action":"insert","lines":[">"]}],[{"start":{"row":239,"column":33},"end":{"row":239,"column":34},"action":"insert","lines":["/"],"id":59},{"start":{"row":239,"column":34},"end":{"row":239,"column":35},"action":"insert","lines":["u"]},{"start":{"row":239,"column":35},"end":{"row":239,"column":36},"action":"insert","lines":["s"]},{"start":{"row":239,"column":36},"end":{"row":239,"column":37},"action":"insert","lines":["e"]}],[{"start":{"row":239,"column":37},"end":{"row":239,"column":38},"action":"insert","lines":["r"],"id":60}],[{"start":{"row":239,"column":38},"end":{"row":239,"column":39},"action":"insert","lines":["/"],"id":61},{"start":{"row":239,"column":39},"end":{"row":239,"column":40},"action":"insert","lines":["s"]},{"start":{"row":239,"column":40},"end":{"row":239,"column":41},"action":"insert","lines":["i"]},{"start":{"row":239,"column":41},"end":{"row":239,"column":42},"action":"insert","lines":["g"]},{"start":{"row":239,"column":42},"end":{"row":239,"column":43},"action":"insert","lines":["n"]},{"start":{"row":239,"column":43},"end":{"row":239,"column":44},"action":"insert","lines":["i"]},{"start":{"row":239,"column":44},"end":{"row":239,"column":45},"action":"insert","lines":["n"]}],[{"start":{"row":239,"column":9},"end":{"row":239,"column":10},"action":"insert","lines":["p"],"id":62}],[{"start":{"row":239,"column":65},"end":{"row":239,"column":66},"action":"insert","lines":["<"],"id":63},{"start":{"row":239,"column":66},"end":{"row":239,"column":67},"action":"insert","lines":["/"]},{"start":{"row":239,"column":67},"end":{"row":239,"column":68},"action":"insert","lines":["p"]},{"start":{"row":239,"column":68},"end":{"row":239,"column":69},"action":"insert","lines":[">"]}],[{"start":{"row":239,"column":19},"end":{"row":239,"column":20},"action":"remove","lines":["\""],"id":64}],[{"start":{"row":239,"column":19},"end":{"row":239,"column":20},"action":"insert","lines":["'"],"id":65}],[{"start":{"row":239,"column":46},"end":{"row":239,"column":47},"action":"remove","lines":["\""],"id":66}],[{"start":{"row":239,"column":46},"end":{"row":239,"column":47},"action":"insert","lines":["'"],"id":67}],[{"start":{"row":238,"column":45},"end":{"row":238,"column":61},"action":"remove","lines":[" from #{@sender}"],"id":68}],[{"start":{"row":238,"column":45},"end":{"row":238,"column":46},"action":"insert","lines":[" "],"id":69},{"start":{"row":238,"column":46},"end":{"row":238,"column":47},"action":"insert","lines":["f"]},{"start":{"row":238,"column":47},"end":{"row":238,"column":48},"action":"insert","lines":["r"]},{"start":{"row":238,"column":48},"end":{"row":238,"column":49},"action":"insert","lines":["o"]},{"start":{"row":238,"column":49},"end":{"row":238,"column":50},"action":"insert","lines":["m"]}],[{"start":{"row":238,"column":50},"end":{"row":238,"column":51},"action":"insert","lines":[" "],"id":70},{"start":{"row":238,"column":51},"end":{"row":238,"column":52},"action":"insert","lines":["#"]}],[{"start":{"row":238,"column":52},"end":{"row":238,"column":53},"action":"insert","lines":["{"],"id":71},{"start":{"row":238,"column":53},"end":{"row":238,"column":54},"action":"insert","lines":["g"]},{"start":{"row":238,"column":54},"end":{"row":238,"column":55},"action":"insert","lines":["e"]},{"start":{"row":238,"column":55},"end":{"row":238,"column":56},"action":"insert","lines":["t"]}],[{"start":{"row":238,"column":53},"end":{"row":238,"column":56},"action":"remove","lines":["get"],"id":73},{"start":{"row":238,"column":53},"end":{"row":238,"column":54},"action":"insert","lines":["_"]},{"start":{"row":238,"column":54},"end":{"row":238,"column":55},"action":"insert","lines":["s"]},{"start":{"row":238,"column":55},"end":{"row":238,"column":56},"action":"insert","lines":["e"]},{"start":{"row":238,"column":56},"end":{"row":238,"column":57},"action":"insert","lines":["n"]},{"start":{"row":238,"column":57},"end":{"row":238,"column":58},"action":"insert","lines":["d"]},{"start":{"row":238,"column":58},"end":{"row":238,"column":59},"action":"insert","lines":["e"]},{"start":{"row":238,"column":59},"end":{"row":238,"column":60},"action":"insert","lines":["r"]}],[{"start":{"row":238,"column":59},"end":{"row":238,"column":60},"action":"remove","lines":["r"],"id":74},{"start":{"row":238,"column":58},"end":{"row":238,"column":59},"action":"remove","lines":["e"]},{"start":{"row":238,"column":57},"end":{"row":238,"column":58},"action":"remove","lines":["d"]},{"start":{"row":238,"column":56},"end":{"row":238,"column":57},"action":"remove","lines":["n"]},{"start":{"row":238,"column":55},"end":{"row":238,"column":56},"action":"remove","lines":["e"]},{"start":{"row":238,"column":54},"end":{"row":238,"column":55},"action":"remove","lines":["s"]},{"start":{"row":238,"column":53},"end":{"row":238,"column":54},"action":"remove","lines":["_"]}],[{"start":{"row":238,"column":53},"end":{"row":238,"column":54},"action":"insert","lines":["g"],"id":75},{"start":{"row":238,"column":54},"end":{"row":238,"column":55},"action":"insert","lines":["e"]},{"start":{"row":238,"column":55},"end":{"row":238,"column":56},"action":"insert","lines":["t"]},{"start":{"row":238,"column":56},"end":{"row":238,"column":57},"action":"insert","lines":["_"]},{"start":{"row":238,"column":57},"end":{"row":238,"column":58},"action":"insert","lines":["s"]},{"start":{"row":238,"column":58},"end":{"row":238,"column":59},"action":"insert","lines":["e"]},{"start":{"row":238,"column":59},"end":{"row":238,"column":60},"action":"insert","lines":["n"]},{"start":{"row":238,"column":60},"end":{"row":238,"column":61},"action":"insert","lines":["d"]},{"start":{"row":238,"column":61},"end":{"row":238,"column":62},"action":"insert","lines":["e"]}],[{"start":{"row":238,"column":62},"end":{"row":238,"column":63},"action":"insert","lines":["r"],"id":76},{"start":{"row":238,"column":63},"end":{"row":238,"column":64},"action":"insert","lines":["_"]},{"start":{"row":238,"column":64},"end":{"row":238,"column":65},"action":"insert","lines":["f"]},{"start":{"row":238,"column":65},"end":{"row":238,"column":66},"action":"insert","lines":["u"]},{"start":{"row":238,"column":66},"end":{"row":238,"column":67},"action":"insert","lines":["l"]}],[{"start":{"row":238,"column":67},"end":{"row":238,"column":68},"action":"insert","lines":["l"],"id":77},{"start":{"row":238,"column":68},"end":{"row":238,"column":69},"action":"insert","lines":["_"]},{"start":{"row":238,"column":69},"end":{"row":238,"column":70},"action":"insert","lines":["n"]},{"start":{"row":238,"column":70},"end":{"row":238,"column":71},"action":"insert","lines":["a"]},{"start":{"row":238,"column":71},"end":{"row":238,"column":72},"action":"insert","lines":["m"]},{"start":{"row":238,"column":72},"end":{"row":238,"column":73},"action":"insert","lines":["e"]}],[{"start":{"row":238,"column":73},"end":{"row":238,"column":74},"action":"insert","lines":["}"],"id":78}],[{"start":{"row":243,"column":0},"end":{"row":253,"column":3},"action":"remove","lines":["","# class AppMessageNotification < NotificationDecorator","#     def message","#         return \"You have a new #{@action} from #{@sender}. Check out the details\"","#     end","    ","#     def get_content","#         return @content","#     end","# end","   "],"id":79}],[{"start":{"row":229,"column":37},"end":{"row":230,"column":0},"action":"insert","lines":["",""],"id":80},{"start":{"row":230,"column":0},"end":{"row":231,"column":0},"action":"insert","lines":["",""]},{"start":{"row":231,"column":0},"end":{"row":231,"column":1},"action":"insert","lines":["#"]}],[{"start":{"row":231,"column":1},"end":{"row":231,"column":2},"action":"insert","lines":["c"],"id":81},{"start":{"row":231,"column":2},"end":{"row":231,"column":3},"action":"insert","lines":["o"]},{"start":{"row":231,"column":3},"end":{"row":231,"column":4},"action":"insert","lines":["n"]},{"start":{"row":231,"column":4},"end":{"row":231,"column":5},"action":"insert","lines":["f"]},{"start":{"row":231,"column":5},"end":{"row":231,"column":6},"action":"insert","lines":["i"]},{"start":{"row":231,"column":6},"end":{"row":231,"column":7},"action":"insert","lines":["g"]},{"start":{"row":231,"column":7},"end":{"row":231,"column":8},"action":"insert","lines":["u"]},{"start":{"row":231,"column":8},"end":{"row":231,"column":9},"action":"insert","lines":["r"]}],[{"start":{"row":231,"column":9},"end":{"row":231,"column":10},"action":"insert","lines":["e"],"id":82}],[{"start":{"row":231,"column":10},"end":{"row":231,"column":11},"action":"insert","lines":[" "],"id":83}],[{"start":{"row":231,"column":11},"end":{"row":231,"column":12},"action":"insert","lines":["i"],"id":84},{"start":{"row":231,"column":12},"end":{"row":231,"column":13},"action":"insert","lines":["n"]},{"start":{"row":231,"column":13},"end":{"row":231,"column":14},"action":"insert","lines":["b"]}],[{"start":{"row":231,"column":14},"end":{"row":231,"column":15},"action":"insert","lines":["o"],"id":85},{"start":{"row":231,"column":15},"end":{"row":231,"column":16},"action":"insert","lines":["x"]}],[{"start":{"row":231,"column":16},"end":{"row":231,"column":17},"action":"insert","lines":[" "],"id":86},{"start":{"row":231,"column":17},"end":{"row":231,"column":18},"action":"insert","lines":["d"]},{"start":{"row":231,"column":18},"end":{"row":231,"column":19},"action":"insert","lines":["e"]},{"start":{"row":231,"column":19},"end":{"row":231,"column":20},"action":"insert","lines":["c"]},{"start":{"row":231,"column":20},"end":{"row":231,"column":21},"action":"insert","lines":["o"]},{"start":{"row":231,"column":21},"end":{"row":231,"column":22},"action":"insert","lines":["r"]}],[{"start":{"row":231,"column":22},"end":{"row":231,"column":23},"action":"insert","lines":["a"],"id":87},{"start":{"row":231,"column":23},"end":{"row":231,"column":24},"action":"insert","lines":["t"]},{"start":{"row":231,"column":24},"end":{"row":231,"column":25},"action":"insert","lines":["o"]},{"start":{"row":231,"column":25},"end":{"row":231,"column":26},"action":"insert","lines":["r"]}],[{"start":{"row":231,"column":26},"end":{"row":232,"column":0},"action":"insert","lines":["",""],"id":88},{"start":{"row":232,"column":0},"end":{"row":232,"column":1},"action":"insert","lines":["?"]}],[{"start":{"row":232,"column":0},"end":{"row":232,"column":1},"action":"remove","lines":["?"],"id":89}],[{"start":{"row":232,"column":0},"end":{"row":232,"column":1},"action":"insert","lines":["#"],"id":90}],[{"start":{"row":232,"column":1},"end":{"row":232,"column":2},"action":"insert","lines":["w"],"id":91},{"start":{"row":232,"column":2},"end":{"row":232,"column":3},"action":"insert","lines":["e"]}],[{"start":{"row":232,"column":3},"end":{"row":232,"column":4},"action":"insert","lines":[" "],"id":92},{"start":{"row":232,"column":4},"end":{"row":232,"column":5},"action":"insert","lines":["w"]},{"start":{"row":232,"column":5},"end":{"row":232,"column":6},"action":"insert","lines":["i"]},{"start":{"row":232,"column":6},"end":{"row":232,"column":7},"action":"insert","lines":["l"]},{"start":{"row":232,"column":7},"end":{"row":232,"column":8},"action":"insert","lines":["l"]}],[{"start":{"row":232,"column":8},"end":{"row":232,"column":9},"action":"insert","lines":[" "],"id":93},{"start":{"row":232,"column":9},"end":{"row":232,"column":10},"action":"insert","lines":["o"]},{"start":{"row":232,"column":10},"end":{"row":232,"column":11},"action":"insert","lines":["n"]},{"start":{"row":232,"column":11},"end":{"row":232,"column":12},"action":"insert","lines":["l"]},{"start":{"row":232,"column":12},"end":{"row":232,"column":13},"action":"insert","lines":["y"]}],[{"start":{"row":232,"column":13},"end":{"row":232,"column":14},"action":"insert","lines":[" "],"id":94}],[{"start":{"row":232,"column":13},"end":{"row":232,"column":14},"action":"remove","lines":[" "],"id":95},{"start":{"row":232,"column":12},"end":{"row":232,"column":13},"action":"remove","lines":["y"]},{"start":{"row":232,"column":11},"end":{"row":232,"column":12},"action":"remove","lines":["l"]},{"start":{"row":232,"column":10},"end":{"row":232,"column":11},"action":"remove","lines":["n"]},{"start":{"row":232,"column":9},"end":{"row":232,"column":10},"action":"remove","lines":["o"]},{"start":{"row":232,"column":8},"end":{"row":232,"column":9},"action":"remove","lines":[" "]},{"start":{"row":232,"column":7},"end":{"row":232,"column":8},"action":"remove","lines":["l"]},{"start":{"row":232,"column":6},"end":{"row":232,"column":7},"action":"remove","lines":["l"]},{"start":{"row":232,"column":5},"end":{"row":232,"column":6},"action":"remove","lines":["i"]},{"start":{"row":232,"column":4},"end":{"row":232,"column":5},"action":"remove","lines":["w"]},{"start":{"row":232,"column":3},"end":{"row":232,"column":4},"action":"remove","lines":[" "]},{"start":{"row":232,"column":2},"end":{"row":232,"column":3},"action":"remove","lines":["e"]}],[{"start":{"row":232,"column":1},"end":{"row":232,"column":2},"action":"remove","lines":["w"],"id":96}],[{"start":{"row":232,"column":1},"end":{"row":232,"column":2},"action":"insert","lines":["u"],"id":97},{"start":{"row":232,"column":2},"end":{"row":232,"column":3},"action":"insert","lines":["s"]},{"start":{"row":232,"column":3},"end":{"row":232,"column":4},"action":"insert","lines":["i"]},{"start":{"row":232,"column":4},"end":{"row":232,"column":5},"action":"insert","lines":["n"]},{"start":{"row":232,"column":5},"end":{"row":232,"column":6},"action":"insert","lines":["g"]},{"start":{"row":232,"column":6},"end":{"row":232,"column":7},"action":"insert","lines":["f"]}],[{"start":{"row":232,"column":6},"end":{"row":232,"column":7},"action":"remove","lines":["f"],"id":98}],[{"start":{"row":232,"column":6},"end":{"row":232,"column":7},"action":"insert","lines":[" "],"id":99},{"start":{"row":232,"column":7},"end":{"row":232,"column":8},"action":"insert","lines":["o"]},{"start":{"row":232,"column":8},"end":{"row":232,"column":9},"action":"insert","lines":["n"]},{"start":{"row":232,"column":9},"end":{"row":232,"column":10},"action":"insert","lines":["e"]}],[{"start":{"row":232,"column":10},"end":{"row":232,"column":11},"action":"insert","lines":[" "],"id":100},{"start":{"row":232,"column":11},"end":{"row":232,"column":12},"action":"insert","lines":["d"]},{"start":{"row":232,"column":12},"end":{"row":232,"column":13},"action":"insert","lines":["e"]},{"start":{"row":232,"column":13},"end":{"row":232,"column":14},"action":"insert","lines":["c"]},{"start":{"row":232,"column":14},"end":{"row":232,"column":15},"action":"insert","lines":["o"]},{"start":{"row":232,"column":15},"end":{"row":232,"column":16},"action":"insert","lines":["r"]},{"start":{"row":232,"column":16},"end":{"row":232,"column":17},"action":"insert","lines":["a"]},{"start":{"row":232,"column":17},"end":{"row":232,"column":18},"action":"insert","lines":["t"]},{"start":{"row":232,"column":18},"end":{"row":232,"column":19},"action":"insert","lines":["o"]},{"start":{"row":232,"column":19},"end":{"row":232,"column":20},"action":"insert","lines":["r"]}],[{"start":{"row":232,"column":20},"end":{"row":232,"column":21},"action":"insert","lines":[" "],"id":101},{"start":{"row":232,"column":21},"end":{"row":232,"column":22},"action":"insert","lines":["t"]},{"start":{"row":232,"column":22},"end":{"row":232,"column":23},"action":"insert","lines":["o"]}],[{"start":{"row":232,"column":23},"end":{"row":232,"column":24},"action":"insert","lines":[" "],"id":102},{"start":{"row":232,"column":24},"end":{"row":232,"column":25},"action":"insert","lines":["s"]},{"start":{"row":232,"column":25},"end":{"row":232,"column":26},"action":"insert","lines":["e"]},{"start":{"row":232,"column":26},"end":{"row":232,"column":27},"action":"insert","lines":["n"]},{"start":{"row":232,"column":27},"end":{"row":232,"column":28},"action":"insert","lines":["d"]}],[{"start":{"row":232,"column":28},"end":{"row":232,"column":29},"action":"insert","lines":[" "],"id":103},{"start":{"row":232,"column":29},"end":{"row":232,"column":30},"action":"insert","lines":["n"]},{"start":{"row":232,"column":30},"end":{"row":232,"column":31},"action":"insert","lines":["o"]},{"start":{"row":232,"column":31},"end":{"row":232,"column":32},"action":"insert","lines":["t"]},{"start":{"row":232,"column":32},"end":{"row":232,"column":33},"action":"insert","lines":["i"]},{"start":{"row":232,"column":33},"end":{"row":232,"column":34},"action":"insert","lines":["f"]},{"start":{"row":232,"column":34},"end":{"row":232,"column":35},"action":"insert","lines":["i"]},{"start":{"row":232,"column":35},"end":{"row":232,"column":36},"action":"insert","lines":["c"]},{"start":{"row":232,"column":36},"end":{"row":232,"column":37},"action":"insert","lines":["a"]}],[{"start":{"row":232,"column":37},"end":{"row":232,"column":38},"action":"insert","lines":["t"],"id":104},{"start":{"row":232,"column":38},"end":{"row":232,"column":39},"action":"insert","lines":["i"]},{"start":{"row":232,"column":39},"end":{"row":232,"column":40},"action":"insert","lines":["o"]},{"start":{"row":232,"column":40},"end":{"row":232,"column":41},"action":"insert","lines":["n"]}],[{"start":{"row":232,"column":41},"end":{"row":232,"column":42},"action":"insert","lines":[" "],"id":105},{"start":{"row":232,"column":42},"end":{"row":232,"column":43},"action":"insert","lines":["w"]},{"start":{"row":232,"column":43},"end":{"row":232,"column":44},"action":"insert","lines":["h"]},{"start":{"row":232,"column":44},"end":{"row":232,"column":45},"action":"insert","lines":["e"]},{"start":{"row":232,"column":45},"end":{"row":232,"column":46},"action":"insert","lines":["b"]}],[{"start":{"row":232,"column":46},"end":{"row":232,"column":47},"action":"insert","lines":[" "],"id":106}],[{"start":{"row":232,"column":46},"end":{"row":232,"column":47},"action":"remove","lines":[" "],"id":107},{"start":{"row":232,"column":45},"end":{"row":232,"column":46},"action":"remove","lines":["b"]}],[{"start":{"row":232,"column":45},"end":{"row":232,"column":46},"action":"insert","lines":["n"],"id":108}],[{"start":{"row":232,"column":46},"end":{"row":232,"column":47},"action":"insert","lines":[" "],"id":109}],[{"start":{"row":232,"column":47},"end":{"row":232,"column":48},"action":"insert","lines":["u"],"id":110},{"start":{"row":232,"column":48},"end":{"row":232,"column":49},"action":"insert","lines":["s"]},{"start":{"row":232,"column":49},"end":{"row":232,"column":50},"action":"insert","lines":["e"]},{"start":{"row":232,"column":50},"end":{"row":232,"column":51},"action":"insert","lines":["r"]}],[{"start":{"row":232,"column":51},"end":{"row":232,"column":52},"action":"insert","lines":[" "],"id":111},{"start":{"row":232,"column":52},"end":{"row":232,"column":53},"action":"insert","lines":["g"]},{"start":{"row":232,"column":53},"end":{"row":232,"column":54},"action":"insert","lines":["e"]},{"start":{"row":232,"column":54},"end":{"row":232,"column":55},"action":"insert","lines":["t"]},{"start":{"row":232,"column":55},"end":{"row":232,"column":56},"action":"insert","lines":["s"]}],[{"start":{"row":232,"column":56},"end":{"row":232,"column":57},"action":"insert","lines":[" "],"id":112},{"start":{"row":232,"column":57},"end":{"row":232,"column":58},"action":"insert","lines":["a"]},{"start":{"row":232,"column":58},"end":{"row":232,"column":59},"action":"insert","lines":["n"]}],[{"start":{"row":232,"column":59},"end":{"row":232,"column":60},"action":"insert","lines":[" "],"id":113}],[{"start":{"row":232,"column":60},"end":{"row":232,"column":61},"action":"insert","lines":["i"],"id":114},{"start":{"row":232,"column":61},"end":{"row":232,"column":62},"action":"insert","lines":["n"]},{"start":{"row":232,"column":62},"end":{"row":232,"column":63},"action":"insert","lines":["-"]},{"start":{"row":232,"column":63},"end":{"row":232,"column":64},"action":"insert","lines":["a"]},{"start":{"row":232,"column":64},"end":{"row":232,"column":65},"action":"insert","lines":["p"]},{"start":{"row":232,"column":65},"end":{"row":232,"column":66},"action":"insert","lines":["p"]}],[{"start":{"row":232,"column":66},"end":{"row":232,"column":67},"action":"insert","lines":[" "],"id":115},{"start":{"row":232,"column":67},"end":{"row":232,"column":68},"action":"insert","lines":["m"]},{"start":{"row":232,"column":68},"end":{"row":232,"column":69},"action":"insert","lines":["e"]},{"start":{"row":232,"column":69},"end":{"row":232,"column":70},"action":"insert","lines":["s"]},{"start":{"row":232,"column":70},"end":{"row":232,"column":71},"action":"insert","lines":["s"]},{"start":{"row":232,"column":71},"end":{"row":232,"column":72},"action":"insert","lines":["a"]},{"start":{"row":232,"column":72},"end":{"row":232,"column":73},"action":"insert","lines":["w"]},{"start":{"row":232,"column":73},"end":{"row":232,"column":74},"action":"insert","lines":["e"]}],[{"start":{"row":232,"column":73},"end":{"row":232,"column":74},"action":"remove","lines":["e"],"id":116}],[{"start":{"row":232,"column":73},"end":{"row":232,"column":74},"action":"insert","lines":["g"],"id":117},{"start":{"row":232,"column":74},"end":{"row":232,"column":75},"action":"insert","lines":["w"]}],[{"start":{"row":232,"column":74},"end":{"row":232,"column":75},"action":"remove","lines":["w"],"id":118},{"start":{"row":232,"column":73},"end":{"row":232,"column":74},"action":"remove","lines":["g"]},{"start":{"row":232,"column":72},"end":{"row":232,"column":73},"action":"remove","lines":["w"]}],[{"start":{"row":232,"column":72},"end":{"row":232,"column":73},"action":"insert","lines":["g"],"id":119},{"start":{"row":232,"column":73},"end":{"row":232,"column":74},"action":"insert","lines":["e"]}]]},"ace":{"folds":[],"scrolltop":3024,"scrollleft":0,"selection":{"start":{"row":232,"column":32},"end":{"row":232,"column":32},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":215,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1575141843722}